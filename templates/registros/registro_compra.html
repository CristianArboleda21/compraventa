<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Registro de Compra</title>
</head>
<body>
<h1>Registro de Compra</h1>
<form id="purchase-form" action="/RegistroCompra" method="post">

    <label for="nombre">Nombre del Producto:</label>
    <input type="text" id="nombre" name="nombre" required>

    <label for="cantidad">Cantidad:</label>
    <input type="number" id="cantidad" name="cantidad" required>

    <label for="precio_unidad">Precio Unidad:</label>
    <input type="number" id="precio_unidad" name="precio_unidad" required>

    <br>
    <button type="submit">Registrar Compra</button>

</form>

<script>
    document.getElementById('purchase-form').addEventListener('submit', async (event) => {
        event.preventDefault();
        const formData = new FormData(event.target);
        const data = {
            nombre: formData.get('nombre'),
            cantidad: parseInt(formData.get('cantidad')),
            precio_unidad: parseInt(formData.get('precio_unidad'))
        };

        const response = await fetch('/RegistroCompra', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(data)
        });

        const result = await response.json();
        alert(result);
    });
</script>
</body>
</html>
